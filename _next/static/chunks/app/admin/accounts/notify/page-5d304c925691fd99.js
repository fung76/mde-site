(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{401:(e,t,n)=>{Promise.resolve().then(n.bind(n,9229))},2821:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});let s=function(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=function e(t){var n,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(s=e(t[n]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}},5705:(e,t,n)=>{"use strict";var s,a,i,r,d,c,l,o;n.d(t,{db:()=>S,Iv:()=>w,Xx:()=>A});let u=JSON.parse('[{"id":"t-1001","name":"Alya Pramudita","rating":4.9,"status":"approved","field":"Mathematics","phone":"+62-812-1111-1111","education":"M.Sc","courses":12},{"id":"t-1002","name":"Budi Hartono","rating":4.6,"status":"probation","field":"Physics","phone":"+62-812-2222-2222","education":"B.Sc","courses":4},{"id":"t-1003","name":"Citra Anggraini","rating":4.8,"status":"approved","field":"Chemistry","phone":"+62-812-3333-3333","education":"Ph.D","courses":8}]'),h=JSON.parse('[{"id":"s-2001","name":"Dimas Putra","status":"active","phone":"+62-813-1111-0001","sex":"M","birthday":"2001-04-12","points":320,"profileImage":"/avatar1.png"},{"id":"s-2002","name":"Eka Lestari","status":"graduated","phone":"+62-813-1111-0002","sex":"F","birthday":"2000-09-05","points":540,"profileImage":"/avatar2.png"},{"id":"s-2003","name":"Farhan Akbar","status":"active","phone":"+62-813-1111-0003","sex":"M","birthday":"2002-01-25","points":180,"profileImage":"/avatar3.png"}]'),p=JSON.parse('[{"id":"c-3001","title":"Calculus I","teacherId":"t-1001","duration":240,"price":150000,"rating":4.8,"sections":24},{"id":"c-3002","title":"Classical Mechanics","teacherId":"t-1002","duration":180,"price":140000,"rating":4.6,"sections":18},{"id":"c-3003","title":"Organic Chemistry","teacherId":"t-1003","duration":210,"price":160000,"rating":4.7,"sections":20}]'),m=JSON.parse('[{"id":"live-4001","title":"Vector Spaces LIVE","teacherId":"t-1001","scheduledAt":"2025-10-20T13:00:00+07:00","price":50000,"capacity":200,"isLive":false},{"id":"live-4002","title":"Newton Laws Masterclass","teacherId":"t-1002","scheduledAt":"2025-10-22T19:30:00+07:00","price":65000,"capacity":150,"isLive":true}]'),f=JSON.parse('[{"id":"tx-5001","studentId":"s-2001","type":"pending","amount":140000,"note":"Mechanics course"},{"id":"tx-5002","studentId":"s-2002","type":"paid","amount":150000,"note":"Calculus I"},{"id":"tx-5003","studentId":"s-2003","type":"paid","amount":50000,"note":"Vector Spaces LIVE"}]'),g=JSON.parse('{"inHousePrice":120000,"teacherSharePct":60,"eduCadCirculating":1250000}'),x=u.map(e=>({...e,status:e.status})),y=h.map(e=>({...e,status:e.status})),I=null!=(d=null==(s=x[0])?void 0:s.id)?d:"t-1001",b=Array.isArray(p)?[...p]:[];0===b.length&&(b=[{id:"course-calculus-1",title:"Calculus I",teacherId:I,duration:240,price:15e4,rating:4.8,sections:24},{id:"course-classical-mech",title:"Classical Mechanics",teacherId:I,duration:180,price:14e4,rating:4.6,sections:18},{id:"course-organic-chem",title:"Organic Chemistry",teacherId:I,duration:210,price:16e4,rating:4.7,sections:20}]);let v=Array.isArray(m)?[...m]:[];if(0===v.length){let e=new Date;v=[{id:"class-vector-spaces",title:"Vector Spaces LIVE",teacherId:I,scheduledAt:new Date(e.getTime()+3456e5).toISOString(),price:5e4,capacity:100,isLive:!1},{id:"class-newton-laws",title:"Newton Laws Masterclass",teacherId:I,scheduledAt:e.toISOString(),price:65e3,capacity:300,isLive:!0}]}let j=null!=(c=null==(a=y[0])?void 0:a.id)?c:"s-2001",N=[{studentId:j,courseId:null!=(l=null==(i=b[0])?void 0:i.id)?l:"course-calculus-1"},{studentId:j,classId:null!=(o=null==(r=v[0])?void 0:r.id)?o:"class-vector-spaces"}],S={teachers:x,students:y,courses:b,classes:v,transactions:f,settings:g,studentPurchases:N};function w(e,t){let n=x.findIndex(t=>t.id===e);if(n>=0)return x[n]={...x[n],status:t},x[n]}function A(e){return Object.assign(g,e),g}},6718:(e,t,n)=>{"use strict";n.d(t,{Table:()=>i,Td:()=>d,Th:()=>r,l:()=>c});var s=n(5155),a=n(2821);function i(e){let{children:t}=e;return(0,s.jsx)("div",{className:"overflow-x-auto rounded border bg-white dark:bg-gray-950 dark:border-gray-800",children:(0,s.jsx)("table",{className:"min-w-full text-sm",children:t})})}function r(e){let{children:t,className:n}=e;return(0,s.jsx)("th",{className:(0,a.A)("text-left px-4 py-2 border-b dark:border-gray-800",n),children:t})}function d(e){let{children:t,className:n}=e;return(0,s.jsx)("td",{className:(0,a.A)("px-4 py-2 border-b dark:border-gray-800",n),children:t})}function c(e){let{label:t,onClickAction:n,kind:i="default"}=e;return(0,s.jsx)("button",{type:"button",onClick:n,className:(0,a.A)("px-3 py-1.5 rounded text-xs border","danger"===i?"bg-red-600 text-white border-red-600 hover:opacity-90":"bg-black text-white border-black hover:opacity-90"),children:t})}},9229:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var s=n(5155),a=n(2115),i=n(5705),r=n(6718);function d(){let e=(0,a.useMemo)(()=>{let e=new Map;for(let r of i.db.transactions.filter(e=>"pending"===e.type)){var t,n,s,a;let d=i.db.students.find(e=>e.id===r.studentId),c=null!=(t=r.studentId)?t:"unknown",l=null!=(s=e.get(c))?s:{studentName:null!=(n=null==d?void 0:d.name)?n:"Unknown",amount:0,txIds:[]};l.amount+=null!=(a=r.amount)?a:0,l.txIds.push(r.id),e.set(c,l)}return[...e.entries()].map(e=>{let[t,n]=e;return{studentId:t,...n}})},[]),[t,n]=(0,a.useState)({}),d=e.length>0&&e.every(e=>t[e.studentId]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold",children:"Send Payment Notifications"}),(0,s.jsx)(r.l,{label:d?"Unselect All":"Select All",onClickAction:function(){if(d)n({});else{let t={};for(let n of e)t[n.studentId]=!0;n(t)}}})]}),0===e.length?(0,s.jsx)("div",{className:"card p-6",children:"No students with pending payments."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Table,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)(r.Th,{children:"Select"}),(0,s.jsx)(r.Th,{children:"Student"}),(0,s.jsx)(r.Th,{children:"Invoices"}),(0,s.jsx)(r.Th,{children:"Total Pending (IDR)"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)(r.Td,{children:(0,s.jsx)("input",{type:"checkbox","aria-label":"Select ".concat(e.studentName),checked:!!t[e.studentId],onChange:()=>{var t;return t=e.studentId,void n(e=>({...e,[t]:!e[t]}))},className:"accent-[var(--accent-gold)]"})}),(0,s.jsx)(r.Td,{children:e.studentName}),(0,s.jsx)(r.Td,{children:e.txIds.join(", ")}),(0,s.jsx)(r.Td,{children:e.amount.toLocaleString("id-ID")})]},e.studentId))})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{className:"btn",onClick:function(){let n=e.filter(e=>t[e.studentId]);if(0===n.length)return void alert("Select at least one student.");let s=n.map(e=>e.studentName).join(", ");alert("Payment notifications sent to: ".concat(s,"\n(UI only)."))},children:"Send notification to selected"})})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=401)),_N_E=e.O()}]);