(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},2821:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=function(){for(var e,t,s=0,a="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=function e(t){var s,a,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(s=0;s<r;s++)t[s]&&(a=e(t[s]))&&(i&&(i+=" "),i+=a)}else for(a in t)t[a]&&(i&&(i+=" "),i+=a);return i}(e))&&(a&&(a+=" "),a+=t);return a}},3354:(e,t,s)=>{Promise.resolve().then(s.bind(s,3557))},3557:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),i=s(2115),r=s(63),n=s(5705),l=s(2619),d=s.n(l),c=s(6718);function o(e){var t,s,l,o,u;let{params:h}=e,x=(0,r.useRouter)(),m=n.db.students.find(e=>e.id===h.id)||null,[p,g]=(0,i.useState)(m?{...m}:null),b=(0,i.useMemo)(()=>p?n.db.studentPurchases.filter(e=>e.studentId===p.id):[],[p]),j=(0,i.useMemo)(()=>{if(!p)return[];let e=[];for(let t of b)if("courseId"in t){let s=n.db.courses.find(e=>e.id===t.courseId);s&&e.push(s)}return e},[b,p]),f=(0,i.useMemo)(()=>{if(!p)return[];let e=[];for(let t of b)if("classId"in t){let s=n.db.classes.find(e=>e.id===t.classId);s&&e.push(s)}return e},[b,p]);if(!p)return(0,a.jsxs)("div",{className:"card p-6 space-y-3",children:[(0,a.jsx)("h1",{className:"text-lg font-semibold",children:"Student not found"}),(0,a.jsx)(d(),{href:"/admin/students",className:"btn-outline",children:"← Back to Students"})]});let y=null!=(t=p.certificates)?t:[];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:p.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Status:"," ",(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium "+("active"===p.status?"bg-green-600 text-white":"graduated"===p.status?"bg-blue-600 text-white":"freeze"===p.status?"bg-yellow-500 text-black":"overdue"===p.status?"bg-orange-500 text-black":"bg-red-600 text-white"),children:p.status})]})]}),(0,a.jsx)(d(),{href:"/admin/students",className:"btn-outline",children:"← Back"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("section",{className:"card p-4 space-y-2 lg:col-span-2",children:[(0,a.jsx)("h2",{className:"font-semibold mb-2",children:"Profile"}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Full name"}),(0,a.jsx)("input",{value:p.name,onChange:e=>g({...p,name:e.target.value})})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Phone"}),(0,a.jsx)("input",{value:null!=(s=p.phone)?s:"",onChange:e=>g({...p,phone:e.target.value})})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Sex (M/F)"}),(0,a.jsx)("input",{value:null!=(l=p.sex)?l:"",onChange:e=>{var t;return g({...p,sex:null!=(t=function(e){let t=e.trim().toUpperCase();if("M"===t||"F"===t)return t}(e.target.value))?t:""})}})]}),(0,a.jsxs)("label",{className:"block",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Birthday"}),(0,a.jsx)("input",{type:"date",value:null!=(o=p.birthday)?o:"",onChange:e=>g({...p,birthday:e.target.value})})]})]})]}),(0,a.jsxs)("aside",{className:"card p-4 space-y-3",children:[(0,a.jsx)("h2",{className:"font-semibold",children:"Actions"}),(0,a.jsx)(c.l,{label:"Freeze",onClickAction:function(){p&&(g({...p,status:"freeze"}),alert("Student account frozen."))}}),(0,a.jsx)(c.l,{label:"Ban",kind:"danger",onClickAction:function(){p&&(g({...p,status:"banned"}),alert("Student banned."))}}),(0,a.jsx)(c.l,{label:"Delete",kind:"danger",onClickAction:function(){alert("Student deleted (UI only)."),x.push("/admin/students")}})]})]}),(0,a.jsxs)("section",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"VoD purchased"}),j.length?(0,a.jsxs)(c.Table,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)(c.Th,{children:"Title"}),(0,a.jsx)(c.Th,{children:"Price (IDR)"})]})}),(0,a.jsx)("tbody",{children:j.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)(c.Td,{children:e.title}),(0,a.jsx)(c.Td,{children:e.price.toLocaleString("id-ID")})]},e.id))})]}):(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"No purchases."})]}),(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Classes subscribed"}),f.length?(0,a.jsxs)(c.Table,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)(c.Th,{children:"Title"}),(0,a.jsx)(c.Th,{children:"Price (IDR)"})]})}),(0,a.jsx)("tbody",{children:f.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)(c.Td,{children:e.title}),(0,a.jsx)(c.Td,{children:e.price.toLocaleString("id-ID")})]},e.id))})]}):(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"No subscriptions."})]})]}),(0,a.jsxs)("section",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Student Points"}),(0,a.jsx)("div",{className:"text-2xl font-semibold",children:null!=(u=p.points)?u:0})]}),(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Certificates"}),y.length>0?(0,a.jsxs)(c.Table,{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)(c.Th,{children:"Title"}),(0,a.jsx)(c.Th,{children:"Issued"}),(0,a.jsx)(c.Th,{children:"Actions"})]})}),(0,a.jsx)("tbody",{children:y.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)(c.Td,{children:e.title}),(0,a.jsx)(c.Td,{children:new Date(e.issuedAt).toLocaleDateString()}),(0,a.jsx)(c.Td,{children:(0,a.jsx)("a",{className:"btn-outline",href:"/certificates/sample.pdf",download:!0,"aria-label":"Download ".concat(e.title),children:"Download PDF"})})]},e.id))})]}):(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"No certificates yet."})]})]})]})}},5705:(e,t,s)=>{"use strict";var a,i,r,n,l,d,c,o;s.d(t,{db:()=>k,Iv:()=>S,Xx:()=>T});let u=JSON.parse('[{"id":"t-1001","name":"Alya Pramudita","rating":4.9,"status":"approved","field":"Mathematics","phone":"+62-812-1111-1111","education":"M.Sc","courses":12},{"id":"t-1002","name":"Budi Hartono","rating":4.6,"status":"probation","field":"Physics","phone":"+62-812-2222-2222","education":"B.Sc","courses":4},{"id":"t-1003","name":"Citra Anggraini","rating":4.8,"status":"approved","field":"Chemistry","phone":"+62-812-3333-3333","education":"Ph.D","courses":8}]'),h=JSON.parse('[{"id":"s-2001","name":"Dimas Putra","status":"active","phone":"+62-813-1111-0001","sex":"M","birthday":"2001-04-12","points":320,"profileImage":"/avatar1.png"},{"id":"s-2002","name":"Eka Lestari","status":"graduated","phone":"+62-813-1111-0002","sex":"F","birthday":"2000-09-05","points":540,"profileImage":"/avatar2.png"},{"id":"s-2003","name":"Farhan Akbar","status":"active","phone":"+62-813-1111-0003","sex":"M","birthday":"2002-01-25","points":180,"profileImage":"/avatar3.png"}]'),x=JSON.parse('[{"id":"c-3001","title":"Calculus I","teacherId":"t-1001","duration":240,"price":150000,"rating":4.8,"sections":24},{"id":"c-3002","title":"Classical Mechanics","teacherId":"t-1002","duration":180,"price":140000,"rating":4.6,"sections":18},{"id":"c-3003","title":"Organic Chemistry","teacherId":"t-1003","duration":210,"price":160000,"rating":4.7,"sections":20}]'),m=JSON.parse('[{"id":"live-4001","title":"Vector Spaces LIVE","teacherId":"t-1001","scheduledAt":"2025-10-20T13:00:00+07:00","price":50000,"capacity":200,"isLive":false},{"id":"live-4002","title":"Newton Laws Masterclass","teacherId":"t-1002","scheduledAt":"2025-10-22T19:30:00+07:00","price":65000,"capacity":150,"isLive":true}]'),p=JSON.parse('[{"id":"tx-5001","studentId":"s-2001","type":"pending","amount":140000,"note":"Mechanics course"},{"id":"tx-5002","studentId":"s-2002","type":"paid","amount":150000,"note":"Calculus I"},{"id":"tx-5003","studentId":"s-2003","type":"paid","amount":50000,"note":"Vector Spaces LIVE"}]'),g=JSON.parse('{"inHousePrice":120000,"teacherSharePct":60,"eduCadCirculating":1250000}'),b=u.map(e=>({...e,status:e.status})),j=h.map(e=>({...e,status:e.status})),f=null!=(l=null==(a=b[0])?void 0:a.id)?l:"t-1001",y=Array.isArray(x)?[...x]:[];0===y.length&&(y=[{id:"course-calculus-1",title:"Calculus I",teacherId:f,duration:240,price:15e4,rating:4.8,sections:24},{id:"course-classical-mech",title:"Classical Mechanics",teacherId:f,duration:180,price:14e4,rating:4.6,sections:18},{id:"course-organic-chem",title:"Organic Chemistry",teacherId:f,duration:210,price:16e4,rating:4.7,sections:20}]);let v=Array.isArray(m)?[...m]:[];if(0===v.length){let e=new Date;v=[{id:"class-vector-spaces",title:"Vector Spaces LIVE",teacherId:f,scheduledAt:new Date(e.getTime()+3456e5).toISOString(),price:5e4,capacity:100,isLive:!1},{id:"class-newton-laws",title:"Newton Laws Masterclass",teacherId:f,scheduledAt:e.toISOString(),price:65e3,capacity:300,isLive:!0}]}let N=null!=(d=null==(i=j[0])?void 0:i.id)?d:"s-2001",I=[{studentId:N,courseId:null!=(c=null==(r=y[0])?void 0:r.id)?c:"course-calculus-1"},{studentId:N,classId:null!=(o=null==(n=v[0])?void 0:n.id)?o:"class-vector-spaces"}],k={teachers:b,students:j,courses:y,classes:v,transactions:p,settings:g,studentPurchases:I};function S(e,t){let s=b.findIndex(t=>t.id===e);if(s>=0)return b[s]={...b[s],status:t},b[s]}function T(e){return Object.assign(g,e),g}},6718:(e,t,s)=>{"use strict";s.d(t,{Table:()=>r,Td:()=>l,Th:()=>n,l:()=>d});var a=s(5155),i=s(2821);function r(e){let{children:t}=e;return(0,a.jsx)("div",{className:"overflow-x-auto rounded border bg-white dark:bg-gray-950 dark:border-gray-800",children:(0,a.jsx)("table",{className:"min-w-full text-sm",children:t})})}function n(e){let{children:t,className:s}=e;return(0,a.jsx)("th",{className:(0,i.A)("text-left px-4 py-2 border-b dark:border-gray-800",s),children:t})}function l(e){let{children:t,className:s}=e;return(0,a.jsx)("td",{className:(0,i.A)("px-4 py-2 border-b dark:border-gray-800",s),children:t})}function d(e){let{label:t,onClickAction:s,kind:r="default"}=e;return(0,a.jsx)("button",{type:"button",onClick:s,className:(0,i.A)("px-3 py-1.5 rounded text-xs border","danger"===r?"bg-red-600 text-white border-red-600 hover:opacity-90":"bg-black text-white border-black hover:opacity-90"),children:t})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=3354)),_N_E=e.O()}]);